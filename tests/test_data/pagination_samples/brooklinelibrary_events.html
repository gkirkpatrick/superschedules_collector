<!DOCTYPE html>
<html lang="en">
<head>
    <!-- iid: 6442 -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <link href="https://static-assets-us.libcal.com/bootstrap_13/bootstrap3.min.css" rel="stylesheet">
    

    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://static-assets-us.libcal.com/css_808/LibCal_public.min.css" rel="stylesheet">
    <link href="https://static-assets-us.libcal.com/css_808/print.min.css" rel="stylesheet" media="print">
    
<script src="https://static-assets-us.libcal.com/jquery_16/jquery.min.js"></script>


<script src="https://static-assets-us.libcal.com/bootstrap_13/bootstrap3.min.js"></script>
    <script src="https://static-assets-us.libcal.com/js_808/LibCal_public.min.js"></script>
        <script>
    springSpace.dateFormat = "dddd, MMMM D, YYYY";
    springSpace.dateShortFormat = "ddd MMM Do YYYY";
    springSpace.dayOfWeekFormat = "ddd MMM Do";
    springSpace.timeFormat = "hh:mm a";
    springSpace.timezone = 'America/New_York';
    springSpace.currency = "USD";
    springSpace.currencySymbol = "$";

    springSpace.language = 'en'; // en
    springSpace.locale = 'en-US'; // en-US

    springSpace.phpTimeFormat = 'h:i a';

    springSpace.bootstrapAsset = 'https://static-assets-us.libcal.com/bootstrap_13/bootstrap3_16.min.css';
    springSpace.publicCssAsset = 'https://static-assets-us.libcal.com/css_808/LibCal_public.min.css';
    springSpace.adminCssAsset = 'https://static-assets-us.libcal.com/css_808/LibCal_admin.min.css';
</script>
        <title>
                Events -
        Public Library of Brookline
    </title>
    <style>
            #s-lc-public-banner {
            padding: 0;
            margin: 0;
        }

        .s-lc-public-footer {
            margin: 0;
        }
    </style>
    <link rel="alternate" type="application/rss+xml" title="Latest Events" href="/rss.php?iid=6442&amp;m=month&amp;cid=-1"/>
<link rel="stylesheet" href="https://static-assets-us.libcal.com/css_808/datepicker.min.css"/>
<style>
        .bs-placeholder {
        color: #333 !important;
    }

    .s-lc-c-erh {
        margin-top: 6px;
    }

    .datepicker-inline {
        width: 100%;
    }

    .datepicker table {
        width: 100%;
    }

    .s-lc-c-ical-link-vert {
        float: right;
    }

    .s-lc-c-ical-description-vert {
        text-align: right;
    }

    .s-lc-c-list-cont-horiz {
        clear: both;
    }

    #cal-form .bootstrap-select {
        width: 100%;
    }

    #cal-form .bootstrap-select .btn {
        font-size: 12px;
    }

        /* This CSS controls: */
/* Public and Admin System Calendar */
/* Public Full and Mini Calendar Widget */

/*Embeddable mini-calendar - from Widgets/API section */

#mini-calendar { border: 3px solid #066A9E; padding: 2px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;}
.cal-mini {width: 100%; font-family: Arial, Verdana, sans-serif; }
.cal-mini td { border-right: 1px solid #f2f2f2; }
.cal-mini-day-head, .cal-mini-title-row td {border: 0px!important;  background-color: #f2f2f2;}
.cal-mini-title {text-align: center; color: #362E2C; font: bold 14px Arial, Verdana, sans-serif;}
.cal-mini-day-head { color: #7F7F7F; text-align: center; font-size: 12px; font-weight: bold; }
.cal-mini-arrow { text-align: center!important; font-size: 16px;}
.cal-mini-day-num, .cal-mini-day-pad { text-align: center;  color: #362E2C; margin:1px;}
.cal-mini-hasevent a { -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background-color: #FF972F;  border: 1px solid #fff; display: block; color: #fff; text-decoration: none; }
.cal-mini-hasevent a:hover { background-color: #fff; color: #FF972F; text-decoration: none; border: 1px solid #FF972F; }
.calevent-mini-list-h { padding: 3px 0px 3px 5px; color: #362E2C; border-top: 1px solid #f2f2f2; border-bottom: 1px solid #066A9E; background-color: #f2f2f2; font: bold 12px Arial, Verdana, sans-serif; }
.calevent-mini { list-style-type: none; padding: 0px; margin:0px; overflow: auto; }
.calevent-mini-time { padding: 0px; margin: 0px; color: #4A4A4A; font-size: 11px;}
.calevent-mini li a{ font-weight: bold; }
.calevent-mini li{ padding: 0px 5px; margin: 0px; border-bottom: 1px solid #f2f2f2; }
.calevent-mini li:hover{ background-color: #f2f2f2; }
</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
<script src="https://brooklinelibrary.libanswers.com/load_chat.php?hash=633fcb6020bc38c186ec377b017630c0"></script>
<div id="libchat_633fcb6020bc38c186ec377b017630c0"></div>

<style>
/*HEADER*/
/*add padding to top header*/
#brookline-header {
	padding-top: 15px;
}
/*remove padding on header sides*/
.custom-header {
	padding-left: 0px;
	padding-right: 0px;
}
/*remove default row margin*/
.custom-header .row {
	margin-right: 0px;
	margin-left: 0px;
}
/*adjust logo sizing and padding*/
.logo {
	padding-right: 0px;
}

.logo img {
	max-width: 320px;
	margin-bottom: 20px;
}
/*catalog search padding*/
.header-search {
	padding-left: 25px;
	padding-right: 70px;
}
/*adjust catalog search padding and style*/
.catalogs {
	padding: 9px 12px;
}

.catalogbtn {
	background-color: #0072bc;
	color: #fff;
	padding: 10px 15px;
	border-radius: 0;
	border: none;
}
/*adjust right header links list layout*/
.header-links {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
}
/*style top row header links*/
.header-links a {
	font-size: 13.5px;
	text-transform: uppercase;
	font-weight: 600;
}
/*style header button*/
.header-links .btn {
	color: #fff;
	background: #ffc20f;
	padding: 10px 15px;
	border-radius: 0px;
}
/*style header button on hover*/
.header-links .btn:hover {
	background-color: #dba300;
}
/*hide header links on mobile*/
@media (max-width: 1200px) {
	.header-search, .header-links {
		display: none;
	}
}
/*remove navbar default styling*/
.navbar-default {
	background-color: transparent;
	border: none;
}
/*underline nav links on larger screens*/
@media (min-width: 767px) {
	.navbar-nav a {
		border-bottom: 6px solid #000;
	}
/*adjust layout of nav links*/
	.navbar-nav {
		width: 100%;
		display: flex;
		justify-content: space-between;
	}
	.navbar-nav li {
		width: 23.75%;
	}
}
/*change navbar appearance on mobile*/
@media (max-width: 767px) {
	.navbar-default {
		background-color: #0072bc;
	}
	.navbar-default .navbar-nav>li>a {
		color: #fff !important;
	}
}
/*update navbar link appearance*/
.navbar-default .navbar-nav>li>a {
	font-family: "Montserrat", Helvetica, Arial, sans-serif;
	color: #333;
	font-weight: bold;
	font-size: 18px;
	transition: padding 0.3s, color 0.3s, box-shadow 0.3s, border-color 0.3s;
}
/*update navbar links on hover*/
.navbar-default .navbar-nav>li>a:hover {
	border-bottom-color: #0091ef;
}

/*BODY*/
/*add gray background block on top of page*/
body:before {
	content: '';
	display: block;
	left: 0;
	top: 0;
	height: 270px;
	width: 50%;
	position: absolute;
	background: #e5ecf0;
	z-index: -1000;
}
/*hide breadcrumbs*/
.breadcrumb {
	visibility: hidden;
}
/*adjust body fonts*/
body {
	font-size: 16px;
	font-family: 'Open-Sans', sans-serif;
}
/*adjust header fonts*/
h1, h2, h3, h4, h5, h6 {
	font-family: 'Montserrat', sans-serif;
}
/*style links*/
a {
	color: #000;
}
a:hover {
	color: #0072bc;
	text-decoration: none;
}
#s-lc-content-hours-93431 .hr-depart {
display: none;
}
/*FOOTER*/
/*display portions of default LC footer*/
#s-lc-public-footer-brand, #s-lc-public-footer-rights, #s-lc-public-footer-admin-links {
	display: none;
}
/*adjust positioning of default LC footer*/
#s-lc-public-footer {
	background-color: transparent;
	display: flex;
	flex-direction: row-reverse;
	justify-content: center;
	border: none;
}
.s-lc-public-footer-actions {
	width: auto;
	margin-right: 10px;
}
/*position footer logo*/
#footer-logo {
	background-color: #0072bc;
	display: flex;
	align-items: center;
	justify-content: center;
}
/*adjust size of logo*/
#footer-logo img {
	max-width: 200px;
}
/*add padding to footer columns*/
#footer-addresses, #footer-hours {
	padding-top: 50px;
	padding-bottom: 20px;
}
/*style and position footer contact column*/
#footer-contact {
	background-color: #e5ecf0;
	display: flex;
	flex-wrap: wrap;
}
/*remove default margin*/
#custom-footer .row {
	margin-left: 0px;
	margin-right: 0px;
}
/*style footer heading*/
.lib-name h4 {
	font-size: 15px;
	font-weight: 600;
	line-height: 1.1;
	color: #000;
}
/*style address*/
.address {
	color: #525252;
	font-size: 12.75px;
	font-weight: 300;
}
address {
	margin-bottom: 5px;
}
/*add margin below addresses column*/
#footer-addresses>div {
	margin-bottom: 23px;
}
/*style address links*/
.address a {
	font-size: 12px;
	font-family: 'Montserrat', sans-serif;
	text-transform: uppercase;
	font-weight: 700;
}
/*style phone link*/
.phone a {
	font-size: 12.75px;
	font-weight: 700;
}
/*hide departments in hours widget*/
.hours-col-loc, .hours-depart {
	display: none !important;
}
/*style hours*/
.loc-hours {
	margin-left: 120px;
	font-weight: 300;
}
/*style footer heading*/
#footer-hours h4 {
	font-weight: bold;
	text-transform: uppercase;
	margin-bottom: 30px;
}
/*style hours*/
.loc-name {
	font-size: 15px;
	margin-bottom: 15px !important;
	margin-top: 20px;
}
/*adjust footer on mobile*/
@media (max-width: 991px) {
	#footer-contact {
		flex-direction: column;
	}
	#footer-logo {
		padding: 20px 0px;
	}
	#footer-addresses {
		padding: 20px 0px 0px 50px;
	}
	#footer-hours {
		padding: 0px 0px 0px 50px;
	}
</style>
</head>
<body id="calendar_21139" class="s-lc-public s-lc-public-page-5">


<a id="s-lc-public-skiplink" class="s-lc-skiplink alert-info" href="#s-lc-public-title-area">Skip to Main Content</a>

<div id="s-lc-public-cust-header" role="banner"><!-- BEGIN: Page Header -->
<header id="brookline-header">
	<div class="custom-header container">
		<div class="row header-branding">
			<div class="col-md-6 logo">
				<a href="https://www.brooklinelibrary.org/"><img src="https://d2jv02qf7xgjwx.cloudfront.net/customers/5745/images/logo.png" alt="Public Library of Brookline Logo" class="img-responsive"></a>
			</div>
			<div class="col-md-4 header-search">
				<div class="cat-search">
					<form method="get" id="searchform" action="https://www.brooklinelibrary.org/wp-content/themes/brookline/catalog-search.php" target="_blank">
						<table class="gsc-search-box">
							<tbody>
								<tr>
									<td class="gsc-input">
										<label class="searchBoxLabel" for="websiteOnlySearch" style="font-weight:bold;text-transform:uppercase;">Search the catalog</label>
										<input type="text" class="catalogs" style="width:100%;display:inline;border-radius:0;border:1px solid #DFE1E5;" name="s" id="s">
										<button type="submit" id="googlematch" class="catalogbtn" style="position:absolute;float:none;margin-bottom:0;margin-top:0;"><i class="fa fa-star" aria-hidden="true"></i></button>
									</td>
								</tr>
							</tbody>
						</table>
					</form>
				</div>
				<div class="website-search"> </div>
			</div>
			<div class="col-md-2 header-links"> <a href="https://brookline.minlib.net/">Catalog</a> <a href="https://brookline.minlib.net/MyAccount">My Account</a> <a href="https://www.brooklinelibrary.org/about/hours-locations/">Hours & Locations</a> <a href="https://brooklinelibrary.libanswers.com/form.php?queue_id=2304">Ask a Question</a> <a href="https://www.brooklinelibrary.org/subscribe-to-our-newsletter/">Get Our Newsletter</a> <a href="https://www.brooklinelibrary.org/donate/" class="btn btn-header">Donate</a> </div>
		</div>
		<div class="header-nav">
			<!-- CUSTOM NAVIGATION with MEGA MENU -->
			<nav class="navbar navbar-default">
				<div class="container">
					<!-- Toggle for mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-content" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
					</div>
					<!-- Content for toggling -->
					<div class="collapse navbar-collapse" id="navbar-collapse-content">
						<div class="align-nav-items">
							<ul class="nav navbar-nav">
								<!-- Home -->
								<li> <a href="https://www.brooklinelibrary.org/">Library Home</a> </li>
								<li> <a href="/calendar">Events</a> </li>
								<li> <a href="/r/new">Book a Space</a> </li>
								<li> <a href="https://www.brooklinelibrary.org/about/hours-locations/">Hours & Locations</a> </li>
							</ul>
							<!-- /.nav .navbar-nav -->
						</div>
					</div>
					<!-- /.navbar-collapse -->
				</div>
				<!-- /.container-fluid -->
			</nav>
		</div>
	</div>
</header>
<!-- END: Page Header --></div>
<div class="container">
    
    <div id="s-lc-public-bc" class="row">
        <div class="col-md-12">
            <nav aria-label="Breadcrumb">
                <ol class="breadcrumb">
                    <li><a href="https://www.brooklinelibrary.org/">Public Library of Brookline</a></li>

                    <li class="s-lc-desktop-only"><a href="https://brooklinelibrary.libcal.com">Events</a></li>

                    
                    
                                        </ol>
            </nav>
        </div>
    </div>

    <noscript>
        <div class="alert alert-danger" id="noscript">Your browser has javascript disabled. Without javascript some functions will not work.</div>
    </noscript>

    <div id="s-lc-public-title-area">
                    
                        </div>

    <main>
        <div id="s-lc-public-main" class="s-lc-public-main">
    <section>
        <div id="s-lc-public-page-content" class="row">
            <div id="col1" class="col-md-12 center">

                            <button class="btn btn-default btn-small s-lc-nav-tab s-lc-mobile-only margin-bottom-med" data-toggle="collapse" data-target="#cal-form">
                    <i class="fa fa-search fa-lg" aria-hidden="true"></i>
                    <span class="sr-only icon-label">Filter by</span>
                </button>

                <form id="cal-form" class="form-inline margin-bottom-med collapse in" role="search">
                    <span class="sr-only">Filter results by...</span>

                    <div class="form-group" id="s-lc-c-sc">
                        <label for="s-lc-c-search" class="sr-only">Search</label>
                        <input type="text" class="form-control input-sm" name="q" id="s-lc-c-search" value=""
                               aria-required="false" placeholder="Search for event..."
                               aria-label="Search for event..." role="searchbox">
                    </div>

                    <div class="form-group">
                        <input class="form-control input-sm s-lc-datepicker-readonly" type="text" name="date" id="s-lc-filter-date" readonly="readonly" placeholder="Date">
                    </div>

                    <div class="form-group">
                        <span class="sr-only"><label for="cal-dd">Calendar</label></span>
                        <select name="cal[]" id="cal-dd" class="selectpicker" multiple title="Calendar" aria-required="true" data-size="15" data-selected-text-format="static">
                                                            <option value="-1" selected="selected"data-cal_id="-1">All Calendars</option>
                                <option data-divider="true"></option>
                                                                    <option value="21139"  data-cal_id="21139">ELL Tutor Meetup</option>
                                                                    <option value="20102"  data-cal_id="20102">Public Library of Brookline Events</option>
                                                                                    </select>
                    </div>

                    <div class="form-group" id="s-lc-c-catf">
                        <span class="sr-only"><label for="cat-dd">Category</label></span>
                                                    <select name="ct[]" id="cat-dd" aria-required="false" class="selectpicker" multiple title="Category" data-size="15" data-selected-text-format="static">
                            </select>
                                            </div>

                                        <div class="form-group" id="s-lc-c-audiencef">
                                                    <span class="sr-only"><label for="audience-dd">Audience</label></span>
                            <select name="audience[]" id="audience-dd" aria-required="false" class="selectpicker" multiple title="Audience" data-size="15" data-selected-text-format="static">
                                                                    <option value="7658"  data-cal_id="7658"
                                            data-bgcolor="#B2FFF1" data-content="<span class='label' style='background-color:#B2FFF1'>&nbsp;</span> Adults</span>">
                                        Adults
                                    </option>
                                                                    <option value="7659"  data-cal_id="7659"
                                            data-bgcolor="#DCAFE6" data-content="<span class='label' style='background-color:#DCAFE6'>&nbsp;</span> Children</span>">
                                        Children
                                    </option>
                                                                    <option value="8327"  data-cal_id="8327"
                                            data-bgcolor="#ADB0FF" data-content="<span class='label' style='background-color:#ADB0FF'>&nbsp;</span> Featured</span>">
                                        Featured
                                    </option>
                                                                    <option value="8328"  data-cal_id="8328"
                                            data-bgcolor="#D1C7AF" data-content="<span class='label' style='background-color:#D1C7AF'>&nbsp;</span> Room Rental</span>">
                                        Room Rental
                                    </option>
                                                                    <option value="7660"  data-cal_id="7660"
                                            data-bgcolor="#FFBCB2" data-content="<span class='label' style='background-color:#FFBCB2'>&nbsp;</span> Teens</span>">
                                        Teens
                                    </option>
                                                                    <option value="7661"  data-cal_id="7661"
                                            data-bgcolor="#D5E687" data-content="<span class='label' style='background-color:#D5E687'>&nbsp;</span> Tweens</span>">
                                        Tweens
                                    </option>
                                                            </select>
                                            </div>

                    <div class="form-group" id="s-lc-c-camf">
                                                    <span class="sr-only"><label for="cam-dd">Locations</label></span>
                            <select name="cm[]" id="cam-dd" aria-required="false" class="selectpicker" multiple title="Locations" data-size="15" data-selected-text-format="static">
                                                                    <option value="8157"  data-cal_id="8157">Brookline Village</option>
                                                                    <option value="8158"  data-cal_id="8158">Coolidge Corner</option>
                                                                    <option value="8785"  data-cal_id="8785">Off-site</option>
                                                                    <option value="8159"  data-cal_id="8159">Putterham</option>
                                                                    <option value="8784"  data-cal_id="8784">Virtual</option>
                                                            </select>
                                            </div>

                    <div class="form-group" id="s-lc-c-online-filter">
                        <label class="sr-only" for="include-events-dd">
    Include Events
</label>

<select name="include-events" id="include-events-dd" aria-required="false" class="selectpicker">
    <option selected="selected" value="0">
        Show All Events
    </option>
    <option  value="1">
        Online Events
    </option>
    <option  value="2">
        In-Person Events
    </option>
</select>
                    </div>

                    <button type="submit" class="btn btn-info btn-sm" id="s-lc-c-sbtn">
                        Search
                    </button>

                    <a href="#" id="s-lc-c-clear-filters" class="s-lc-filters-clear">
                        Clear All
                    </a>
                </form>

                <div id="s-lc-c-filters-used" class="alert alert-success margin-bottom-med" display="style: none;"></div>

                <div id="s-lc-c-tz-modes" class="pad-bottom-med">
                    <div id="s-lc-c-view-modes" class="s-lc-c-view-modes">
                        Change View:
                        <div class="btn-group">
                            <button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-card">
    <i class="fa fa-th fa-lg" aria-hidden="true"></i>
    <span class="sr-only icon-label">Card View</span>
</button>
<button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-list">
    <i class="fa fa-align-justify fa-lg" aria-hidden="true"></i>
    <span class="sr-only icon-label">Day/List View</span>
</button>
<button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-monthly">
    <i class="fa fa-calendar fa-lg" aria-hidden="true"></i>
    <span class="sr-only icon-label">Monthly View</span>
</button>
<button class="btn btn-default btn-small s-lc-nav-tab s-lc-nav-weekly">
    <i class="fa fa-calendar-o fa-lg" aria-hidden="true"></i>
    <span class="sr-only icon-label">Weekly View</span>
</button>
                        </div>
                    </div>

                    
<div class="s-lc-c-ical-and-timezone-horiz">
    
    <div class="s-lc-timezone-container s-lc-c-timezone-horiz s-lc-c-timezone">
    Time Zone:
    Eastern Time - US &amp; Canada
    (<a href="#" class="s-lc-c-timezone-change">change</a>)
</div>

            <div class="s-lc-desktop-only">
    <div id="s-lc-ical-link" class="s-lc-c-ical-link-horiz" style="display: none;">
        <a href="javascript:void(0)" id="s-lc-c-ical-toggle">
            <i class="fa fa-calendar" aria-hidden="true"></i>
            iCal
        </a>
    </div>
</div>
    
            <div id="s-lc-ical-details" class="s-lc-c-ical-description-horiz" style="display: none;">
            To subscribe to this calendar, copy the link below into any application that supports the iCal format.

            <br>

            <span id="s-lc-c-ical-url">
                            </span>
        </div>
    </div>
                </div>

                <div id="s-lc-c-list-results" role="region" aria-live="polite">
                    <h2 class="sr-only" tabindex="0">Search Results</h2>

                    <div id="s-lc-c-list-cont" class="s-lc-c-list-cont-horiz"></div>
                </div>

                        </div>
        </div>
    </section>
</div>
    </main>

    <footer id="s-lc-public-footer" class="row s-lc-public-footer">
        <div id="s-lc-public-footer-brand">
    <span title="libcal-us-1">Powered by</span> <a href="https://www.springshare.com">Springshare</a>.
</div>

<div id="s-lc-public-footer-rights">
    All rights reserved.
</div>

    <div id="s-lc-footer-support-link">
        <a href="mailto:brkevents@minlib.net">Report a tech support issue.</a>
    </div>

                
        <div id="s-lc-public-footer-admin-links" role="navigation" aria-label="Admin Footer">
                            <a id="s-lc-sign-in" href="https://brooklinelibrary.libapps.com/libapps/login.php?site_id=25634&amp;target=">Login to LibApps</a>
                    </div>

        <div class="s-lc-public-footer-actions">
    
<div id="s-lc-language">
    <select id="s-lc-language-selector" aria-label="Select Language">
                <option value="ca" >català</option>
                <option value="cy" >Cymraeg</option>
                <option value="en" selected>English</option>
                <option value="es" >español</option>
                <option value="fr" >français</option>
                <option value="ga" >Irish</option>
                <option value="ja" >日本語 Nihongo</option>
                <option value="nl" >Nederlands</option>
                <option value="sl" >slovenski jezik</option>
                <option value="vi" >Tiếng Việt</option>
                <option value="zh" >中文 Zhōngwén</option>
            </select>
</div>
</div>
    </footer>

    
</div>

<div id="s-lc-public-cust-footer"><footer>
	<div id="custom-footer">
		<div class="row" id="footer-contact">
			<div class="col-md-3" id="footer-logo">
				<a href="#"><img src="https://d2jv02qf7xgjwx.cloudfront.net/customers/5745/images/logo-white.png" alt="homepage"></a>
			</div>
			<div class="col-md-5" id="footer-addresses">
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-3 lib-name">
						<h4>Brookline Village</h4> </div>
					<div class="col-md-3 address"> <address>
                                361 Washington Street, <br>
                                Brookline, MA 02445<br>
                            </address> <a href="https://maps.google.com/?daddr=361+Washington+Street%2C+Brookline%2C+MA+02445%2C+United+States">Get Directions</a> </div>
					<div class="col-md-3 phone"> <a tel:6177302370>617-730-2370</a> </div>
					<div class="col-md-1"></div>
				</div>
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-3 lib-name">
						<h4>Coolidge Corner</h4> </div>
					<div class="col-md-3 address"> <address>
                                31 Pleasant Street, <br>
                                Brookline, MA 02446
                            </address> <a href="https://maps.google.com/?daddr=31+Pleasant+Street%2C+Brookline%2C+MA+02446">Get Directions</a> </div>
					<div class="col-md-3 phone"> <a tel:6177302380>617-730-2380</a> </div>
					<div class="col-md-1"></div>
				</div>
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-3 lib-name">
						<h4>Putterham</h4> </div>
					<div class="col-md-3 address"> <address>
                               959 West Roxbury Parkway, <br>
                                Chestnut Hill, <br>
                                MA 02467
                            </address> <a href="https://maps.google.com/?daddr=959+West+Roxbury+Parkway%2C+Chestnut+Hill%2C+MA+02467">Get Directions</a> </div>
					<div class="col-md-3 phone"> <a tel:6177302385>617-730-2385</a> </div>
					<div class="col-md-1"></div>
				</div>
			</div>
			<div class="col-md-4" id="footer-hours">
				<h4>Library Hours</h4>
				<h4 class="loc-name">Brookline Village</h4>
				<div class="loc-hours">
					<div id="api_hours_today_iid6442_lid22668"></div>
					<script src="https://brooklinelibrary.libcal.com/api_hours_today.php?iid=6442&lid=22668&format=js&systemTime=1&context=object">
					</script>
				</div>
				<h4 class="loc-name">Coolidge Corner</h4>
				<div class="loc-hours">
					<div id="api_hours_today_iid6442_lid22669"></div>
					<script src="https://brooklinelibrary.libcal.com/api_hours_today.php?iid=6442&lid=22669&format=js&systemTime=1&context=object">
					</script>
				</div>
				<h4 class="loc-name">Putterham</h4>
				<div class="loc-hours">
					<div id="api_hours_today_iid6442_lid22670"></div>
					<script src="https://brooklinelibrary.libcal.com/api_hours_today.php?iid=6442&lid=22670&format=js&systemTime=1&context=object">
					</script>
				</div>
				<h4 class="loc-name"><a href="https://www.brooklinelibrary.org/about/hours-locations">All Hours & Holidays</a></h4> </div>
		</div>
	</div>
</footer></div>
    <script defer src="https://static-assets-us.libcal.com/js_808/datepicker.min.js"></script>
    <script defer src="https://static-assets-us.libcal.com/js_808/selectpicker.min.js"></script>
    <script defer src="https://static-assets-us.libcal.com/js_808/direct/pagination.min.js"></script>
    <script defer src="https://static-assets-us.libcal.com/js_808/direct/public/events/calendar.min.js"></script>

    
        <script>
        function addEventDataTextTranslations(eventData) {
            eventData.textAddCalendar = 'Add\u0020to\u0020Calendar\u0020using\u0020iCal';
            eventData.textAddGoogleCalendar = 'Add\u0020to\u0020Google\u0020Calendar';
            eventData.textAudience = 'Audience';
            eventData.textCampus = 'Locations';
            eventData.textCategories = 'Categories';
            eventData.textChange = 'change';
            eventData.textDate = 'Date';
            eventData.textDateAndTimes = 'Dates\u0020\u0026\u0020Times\u003A';
            eventData.textDescription = 'Description';
            eventData.textEventCost = 'Event\u0020Cost';
            eventData.textFeaturedImage = 'Event\u0020featured\u0020image';
            eventData.textFrom = 'From';
            eventData.textGoToEvent = 'Go\u0020to\u0020event\u0020page';
            eventData.textLocation = 'Location';
            eventData.textMore = 'More';
            eventData.textInPersonEvent = 'In\u002DPerson';
            eventData.textOnlineEvent = 'Online';
            eventData.textOnlineRegistration = 'Online\u0020Registration';
            eventData.textInPersonRegistration = 'In\u002DPerson\u0020Registration';
            eventData.textPresenter = 'Presenter';
            eventData.textPrintPage = 'Print\u0020page';
            eventData.textRegister = 'Register';
            eventData.textRegistrationFull = 'Registrations\u0020are\u0020fully\u0020booked\u0021';
            eventData.textRegistrationType = 'Registration\u0020Type';
            eventData.textSearchEvents = 'Browse\/Search\u0020for\u0020more\u0020events';
            eventData.textSeats = 'Seats';
            eventData.textShareFacebook = 'Share\u0020on\u0020Facebook';
            eventData.textShareTwitter = 'Share\u0020on\u0020Twitter';
            eventData.textShowMoreDates = 'Show\u0020more\u0020dates';
            eventData.textShowMoreDatesHeader = 'Future\u0020Dates';
            eventData.textTime = 'Time';
            eventData.textTimeZone = 'Time\u0020Zone\u003A';
            eventData.textTo = 'To';
            eventData.textViewMoreInfo = 'View\u0020More\u0020Information';
        }
    </script>

        <script>
        var activeSearch = false;
        var activeView = "d";
        var activePage = 1;
        var activeDate = moment("2025\u002D08\u002D22", springSpace.phpDateFormat).locale('en');
        var haveChosenSpecificDate = 0;
        var resultsPerPageViewMap = {
            "g": 48,
            "d": 20,
        };
        var momentWeekFormat = 'week';

                var activeDateMinimumValue = moment("2025\u002D08\u002D22").locale('en');
        
        var datePickerTemplates = {
            leftArrow: '<span class="sr-only">Previous</span>&laquo;',
            rightArrow: '<span class="sr-only">Next</span>&raquo;'
        };

        var template = "<div class=\"media s-lc-c-evt\">\n    <div class=\"media-body\">\n        <h2 class=\"media-heading s-lc-c-evt-title\">\n            {{#url}}<a title=\"{{title}}\" href=\"{{url}}\">{{\/url}}\n                {{title}}\n            {{#url}}<\/a>{{\/url}}\n\n            {{^registration_enabled}}{{^external_event}}\n                {{#location}}\n                    {{#online_event}}\n                        <span class=\"label label-info s-lc-eventcard-pill\">\n                            {{textInPersonEvent}} \/ {{textOnlineEvent}}\n                        <\/span>\n                    {{\/online_event}}\n                    {{^online_event}}\n                        <span class=\"label label-info s-lc-eventcard-pill\">\n                            {{textInPersonEvent}}\n                        <\/span>\n                    {{\/online_event}}\n                {{\/location}}\n                {{^location}}\n                    {{#online_event}}\n                        <span class=\"label label-info s-lc-eventcard-pill\">\n                            {{textOnlineEvent}}\n                        <\/span>\n                    {{\/online_event}}\n                {{\/location}}\n            {{\/external_event}}{{\/registration_enabled}}\n\n            {{#registration_enabled}}\n                {{#online_event}}\n                    {{#in_person_registration}}\n                        <span class=\"label label-info s-lc-eventcard-pill\">\n                            {{textInPersonEvent}} \/ {{textOnlineEvent}}\n                        <\/span>\n                    {{\/in_person_registration}}\n                    {{^in_person_registration}}\n                        <span class=\"label label-info s-lc-eventcard-pill\">\n                            {{textOnlineEvent}}\n                        <\/span>\n                    {{\/in_person_registration}}\n                {{\/online_event}}\n                {{^online_event}}\n                    <span class=\"label label-info s-lc-eventcard-pill\">\n                        {{textInPersonEvent}}\n                    <\/span>\n                {{\/online_event}}\n            {{\/registration_enabled}}\n        <\/h2>\n        <div class=\"s-lc-c-evt-des\">{{{shortdesc}}}\n            {{#shortdesc_was_truncated}}{{#url}}\n            &nbsp;<a href=\"{{url}}\" aria-label=\"{{textViewMoreInfo}}\">{{textMore}}<\/a><br>\n            {{\/url}}{{\/shortdesc_was_truncated}}\n        <\/div>\n        <dl class=\"dl-horizontal\">\n            {{^multi_day_event}}\n                <dt>{{textDate}}:<\/dt>\n                <dd>{{date}}\n                    {{#recurring_event}}\n                        <i class=\"fa fa-calendar pad-left-med\" aria-hidden=\"true\"><\/i>\n                        <a href=\"#\" onclick=\"return springyPublic.getFutureEventDates({{id}});\">{{textShowMoreDates}}<\/a>\n                        <p id=\"future_loading_{{id}}\" style=\"display:none\"><i class=\"fa fa-spinner fa-spin fa-lg\" aria-hidden=\"true\"><\/i><\/p>\n                        <p id=\"future_{{id}}\" style=\"display:none\"><\/p>\n                    {{\/recurring_event}}\n                <\/dd>\n\n                <dt>{{textTime}}:<\/dt>\n                <dd>{{start}}{{#end}} - {{end}}{{\/end}}<\/dd>\n            {{\/multi_day_event}}\n\n            {{#multi_day_event}}\n                <dt>{{textFrom}}:<\/dt>\n                <dd>\n                    {{^all_day}}{{start}},{{\/all_day}}\n                    {{date}}\n                <\/dd>\n                <dt>{{textTo}}:<\/dt>\n                <dd>\n                    {{^all_day}}{{end}},{{\/all_day}}\n                    {{multi_day_end_date}}\n                <\/dd>\n            {{\/multi_day_event}}\n\n            {{#location}}\n                <dt>{{textLocation}}:<\/dt>\n                <dd>\n                    {{#locations}}{{name}}{{#map}} (<a href=\"{{map}}\" target=\"_blank\" title=\"Open map for {{name}}\">Map <i class=\"fa fa-external-link\" aria-hidden=\"true\"><\/i><\/a>){{\/map}}{{^last}}, {{\/last}}{{\/locations}}{{#campus}}, {{campus}}{{\/campus}}\n                <\/dd>\n            {{\/location}}\n\n            {{^location}}\n                {{#campus}}\n                    <dt>{{textLocation}}:<\/dt>\n                    <dd>{{campus}}<\/dd>\n                {{\/campus}}\n            {{\/location}}\n\n            {{#registration_cost}}\n                <dt>{{textEventCost}}:<\/dt>\n                <dd>{{registration_cost}}<\/dd>\n            {{\/registration_cost}}\n\n            {{#audiences.0}}\n            <dt>{{textAudience}}:<\/dt>\n            <dd>{{#audiences}}\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                <span class=\"s-lc-event-category-link\">\n                    <a href=\"{{calendar_url}}&t=d&cal%5B%5D={{calendar_id}}&audience%5B%5D={{id}}\">{{name}}<\/a>\n                <\/span> &nbsp;\n                {{\/audiences}}\n            <\/dd>\n            {{\/audiences.0}}\n\n            {{#categories_arr.0}}\n            <dt>{{textCategories}}:<\/dt>\n            <dd>{{#categories_arr}}\n                <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                <span class=\"s-lc-event-category-link\">\n                    <a href=\"{{calendar_url}}&t=d&d=0000-00-00&cal%5B%5D={{calendar_id}}&ct%5B%5D={{cat_id}}\">{{name}}<\/a>\n                <\/span> &nbsp;\n                {{\/categories_arr}}\n            <\/dd>\n            {{\/categories_arr.0}}\n\n            {{#seats}}\n                <dt>{{textRegistrationType}}:<\/dt>\n                <dd>\n                    {{#in_person_registration}}{{textInPersonRegistration}}{{\/in_person_registration}}\n                    {{#online_registration}}{{#in_person_registration}} \/ {{\/in_person_registration}}{{textOnlineRegistration}}{{\/online_registration}}\n                <\/dd>\n            {{\/seats}}\n\n            <dt><\/dt>\n            <dd>\n                {{#seats}}\n                <dt><\/dt>\n                <dd><a href=\"{{url}}\" class=\"btn btn-success btn-sm margin-top-med\">{{textRegister}}! {{#seatsleft}} - {{seatsleft_text}}{{\/seatsleft}}<\/a><\/dd>\n                {{\/seats}}\n\n                {{#registration_msg}}\n                <dt><\/dt>\n                <dd><a href=\"{{url}}\" class=\"btn {{class}} btn-sm margin-top-med\">{{{msg}}}<\/a><\/dd>\n                {{\/registration_msg}}\n            <\/dd>\n        <\/dl>\n    <\/div>\n    {{#featured_image}}\n    <div class=\"media-right\"><a href=\"{{url}}\"> <img class=\"media-object img-thumbnail s-lc-c-evt-fi\" src=\"{{featured_image}}\" alt=\"{{title}}\"> <\/a><\/div>\n    {{\/featured_image}}\n<\/div>\n";
        var cardViewTemplate = "<div class=\"s-lc-eventcard\">\n    <div class=\"s-lc-eventcard-content s-lc-eventcard-image-vertical\">\n        <div class=\"s-lc-eventcard-heading-image\">\n            {{#url}}<a title=\"{{title}}\" href=\"{{url}}\" aria-label=\"{{textGoToEvent}}\">{{\/url}}\n                <img src=\"{{featured_image}}\" alt=\"{{textFeaturedImage}}\" \/>\n            {{#url}}<\/a>{{\/url}}\n        <\/div>\n\n        <div class=\"s-lc-eventcard-heading\">\n            <div class=\"s-lc-eventcard-heading-content\">\n                <div class=\"s-lc-evt-date\">\n                    <div class=\"s-lc-evt-date-m\">{{monthshort}}<\/div>\n                    <div class=\"s-lc-evt-date-d\">{{day}}<\/div>\n                <\/div>\n\n                <div class=\"s-lc-eventcard-heading-text-group\">\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">\n                        {{^multi_day_event}}\n                            {{dayshort}}, {{start}}{{#end}} - {{end}}{{\/end}}\n                        {{\/multi_day_event}}\n\n                        {{#multi_day_event}}\n                            {{monthshort}} {{day}} -\n                            {{#multi_day_end}}\n                                {{monthshort}} {{day}}\n                            {{\/multi_day_end}}\n                        {{\/multi_day_event}}\n\n                        {{^registration_enabled}}{{^external_event}}\n                            {{#location}}\n                                {{#online_event}}\n                                    <span class=\"label label-info s-lc-eventcard-pill\">\n                                        {{textInPersonEvent}} \/ {{textOnlineEvent}}\n                                    <\/span>\n                                {{\/online_event}}\n                                {{^online_event}}\n                                    <span class=\"label label-info s-lc-eventcard-pill\">\n                                        {{textInPersonEvent}}\n                                    <\/span>\n                                {{\/online_event}}\n                            {{\/location}}\n                            {{^location}}\n                                {{#online_event}}\n                                    <span class=\"label label-info s-lc-eventcard-pill\">\n                                        {{textOnlineEvent}}\n                                    <\/span>\n                                {{\/online_event}}\n                            {{\/location}}\n                        {{\/external_event}}{{\/registration_enabled}}\n\n                        {{#registration_enabled}}\n                            {{#online_event}}\n                                {{#in_person_registration}}\n                                    <span class=\"label label-info s-lc-eventcard-pill\">\n                                        {{textInPersonEvent}} \/ {{textOnlineEvent}}\n                                    <\/span>\n                                {{\/in_person_registration}}\n                                {{^in_person_registration}}\n                                    <span class=\"label label-info s-lc-eventcard-pill\">\n                                        {{textOnlineEvent}}\n                                    <\/span>\n                                {{\/in_person_registration}}\n                            {{\/online_event}}\n                            {{^online_event}}\n                                <span class=\"label label-info s-lc-eventcard-pill\">\n                                    {{textInPersonEvent}}\n                                <\/span>\n                            {{\/online_event}}\n                        {{\/registration_enabled}}\n                    <\/div>\n\n                    <div class=\"s-lc-eventcard-heading-text s-lc-hide-long-text\">{{campusAndLocation}}<\/div>\n\n                    {{#recurring_event}}\n                        <div class=\"s-lc-eventcard-more-dates s-lc-hide-long-text\">\n                            <a tabindex=\"0\" data-event=\"{{id}}\" data-toggle=\"popover\" data-placement=\"bottom\" data-container=\"body\" data-html=\"true\" data-trigger=\"focus\" data-content=\"\n                                <h5>{{textShowMoreDatesHeader}}: {{title}}<\/h5>\n                                <p id='future_loading_{{id}}' style='display:none'><i class='fa fa-spinner fa-spin fa-lg' aria-hidden='true'><\/i><\/p>\n                                <p id='future_{{id}}' style='display:none' class='pad-left-med'><\/p>\"\n                               aria-label=\"{{textShowMoreDates}}\"\n                            >{{textShowMoreDates}} &rsaquo;&rsaquo;<\/a>\n                        <\/div>\n                    {{\/recurring_event}}\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <div class=\"s-lc-eventcard-event-color-bar\" style=\"background-color: {{color}}\">\n        <\/div>\n\n        <div class=\"s-lc-eventcard-body\">\n            {{#seatsleft}}\n                <div class=\"s-lc-ribbon s-lc-ribbon-top-right\">\n                    <span>\n                        {{seatsleft_text}}\n                    <\/span>\n                <\/div>\n            {{\/seatsleft}}\n\n            {{#ribbonWarning}}\n                <div class=\"s-lc-ribbon s-lc-ribbon-top-right s-lc-ribbon-warning\">\n                    <span>\n                        {{ribbonWarning}}\n                    <\/span>\n                <\/div>\n            {{\/ribbonWarning}}\n\n            <h2 class=\"s-lc-eventcard-title\">\n                {{#url}}<a title=\"{{title}}\" href=\"{{url}}\">{{\/url}}\n                    {{title}}\n                {{#url}}<\/a>{{\/url}}\n            <\/h2>\n\n            {{#shortdesc}}\n            <div class=\"s-lc-eventcard-description\">\n                {{{shortdesc}}}\n                {{#shortdesc_was_truncated}}{{#url}}\n                &nbsp;<a href=\"{{url}}\" aria-label=\"{{textViewMoreInfo}}\">{{textMore}}<\/a><br>\n                {{\/url}}{{\/shortdesc_was_truncated}}\n            <\/div>\n            {{\/shortdesc}}\n\n            {{#registration_cost}}\n                <br>\n                <div class=\"s-lc-eventcard-registration-cost\">\n                    {{textEventCost}}: {{registration_cost}}\n                <\/div>\n            {{\/registration_cost}}\n        <\/div>\n\n        <div class=\"s-lc-eventcard-tags\">\n            <ul>\n                {{#categoriesToShowInFull}}\n                    <li class=\"s-lc-eventcard-tag\">\n                        <span class=\"s-lc-event-category-color\" style=\"background-color:{{color}}\">&nbsp;<\/span>\n                        <span class=\"s-lc-event-category-link\" data-toggle=\"tooltip\" title=\"{{name}}\">\n                            <a href=\"{{calendar_url}}&t=g&cal%5B%5D={{calendar_id}}{{#isCategory}}&ct={{id}}{{\/isCategory}}{{#isAudience}}&audience={{id}}{{\/isAudience}}\">\n                                {{name}}\n                            <\/a>\n                        <\/span>\n                    <\/li>\n                {{\/categoriesToShowInFull}}\n\n                {{#categoriesTooltip}}\n                    <li class=\"s-lc-eventcard-tag-more\">\n                        <a href=\"#\" data-toggle=\"tooltip\" title=\"{{categoriesTooltip}}\" aria-label=\"{{categoriesTooltip}}\">&hellip;<\/a>\n                    <\/li>\n                {{\/categoriesTooltip}}\n            <\/ul>\n        <\/div>\n    <\/div>\n<\/div>\n";
        var cardViewDefaultImage = 'https\u003A\/\/libapps.s3.amazonaws.com\/accounts\/372459\/images\/7994.jpg_wh1200.jpg';

        var categoriesMappedByCalendar = { 21139: [],20102: [] };

        
                var tempCategoryName = "Art";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69563,
            name: tempCategoryName,
            color: '\u0023F0B2BB',
        });
                var tempCategoryName = "Author\u0020Events";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69564,
            name: tempCategoryName,
            color: '\u0023C1ADDE',
        });
                var tempCategoryName = "Children\u0027s\u0020Event";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 76311,
            name: tempCategoryName,
            color: '\u0023B3C8EF',
        });
                var tempCategoryName = "Civic\u0020Engagement";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69565,
            name: tempCategoryName,
            color: '\u002398E0B0',
        });
                var tempCategoryName = "Classes\u0020\u002B\u0020Workshops";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69566,
            name: tempCategoryName,
            color: '\u0023B8D1B8',
        });
                var tempCategoryName = "Clubs\u0020\u002B\u0020Groups";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69567,
            name: tempCategoryName,
            color: '\u0023F0B7A1',
        });
                var tempCategoryName = "Health\u0020\u002B\u0020Wellness";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69568,
            name: tempCategoryName,
            color: '\u002391DED5',
        });
                var tempCategoryName = "ideaSPACE";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69570,
            name: tempCategoryName,
            color: '\u0023DBC3C9',
        });
                var tempCategoryName = "Language\u0020Learning";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69572,
            name: tempCategoryName,
            color: '\u0023D1BAB6',
        });
                var tempCategoryName = "Meeting";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69573,
            name: tempCategoryName,
            color: '\u0023D8E8DC',
        });
                var tempCategoryName = "Movies";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69574,
            name: tempCategoryName,
            color: '\u0023EBEB99',
        });
                var tempCategoryName = "Music";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69575,
            name: tempCategoryName,
            color: '\u0023BDC4C7',
        });
                var tempCategoryName = "Non\u002DLibrary\u0020Event";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 76500,
            name: tempCategoryName,
            color: '\u0023D1C7AF',
        });
                var tempCategoryName = "Poetry";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69576,
            name: tempCategoryName,
            color: '\u0023FFD085',
        });
                var tempCategoryName = "Sensory\u002Dfriendly";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 73173,
            name: tempCategoryName,
            color: '\u0023ECB2F0',
        });
                var tempCategoryName = "Special\u0020Events";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69577,
            name: tempCategoryName,
            color: '\u0023EBA338',
        });
                var tempCategoryName = "Storytime";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69578,
            name: tempCategoryName,
            color: '\u0023F58585',
        });
                var tempCategoryName = "Summer\u0020Reading";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69579,
            name: tempCategoryName,
            color: '\u0023C8CC91',
        });
                var tempCategoryName = "World\u0020Language\u0020Storytime";

        if (!(0 in categoriesMappedByCalendar)) { categoriesMappedByCalendar[0] = []; }
        categoriesMappedByCalendar[0].push({
            id: 69580,
            name: tempCategoryName,
            color: '\u0023D8D5F2',
        });
        
        var calendarNameMap = {};
                    calendarNameMap[-1] = "All\u0020Calendars";
                        calendarNameMap[21139] = "ELL\u0020Tutor\u0020Meetup";
                        calendarNameMap[20102] = "Public\u0020Library\u0020of\u0020Brookline\u0020Events";
                    
        var audienceNameMap = {};
                    audienceNameMap[7658] = "Adults";
                    audienceNameMap[7659] = "Children";
                    audienceNameMap[8327] = "Featured";
                    audienceNameMap[8328] = "Room\u0020Rental";
                    audienceNameMap[7660] = "Teens";
                    audienceNameMap[7661] = "Tweens";
        
        var categoryNameMap = {};
                    categoryNameMap[69563] = "Art";
                    categoryNameMap[69564] = "Author\u0020Events";
                    categoryNameMap[76311] = "Children\u0027s\u0020Event";
                    categoryNameMap[69565] = "Civic\u0020Engagement";
                    categoryNameMap[69566] = "Classes\u0020\u002B\u0020Workshops";
                    categoryNameMap[69567] = "Clubs\u0020\u002B\u0020Groups";
                    categoryNameMap[69568] = "Health\u0020\u002B\u0020Wellness";
                    categoryNameMap[69570] = "ideaSPACE";
                    categoryNameMap[69572] = "Language\u0020Learning";
                    categoryNameMap[69573] = "Meeting";
                    categoryNameMap[69574] = "Movies";
                    categoryNameMap[69575] = "Music";
                    categoryNameMap[76500] = "Non\u002DLibrary\u0020Event";
                    categoryNameMap[69576] = "Poetry";
                    categoryNameMap[73173] = "Sensory\u002Dfriendly";
                    categoryNameMap[69577] = "Special\u0020Events";
                    categoryNameMap[69578] = "Storytime";
                    categoryNameMap[69579] = "Summer\u0020Reading";
                    categoryNameMap[69580] = "World\u0020Language\u0020Storytime";
        
        var feedArray = [];
        
        var campusNameMap = {};
                    campusNameMap[8157] = "Brookline\u0020Village";
                    campusNameMap[8158] = "Coolidge\u0020Corner";
                    campusNameMap[8785] = "Off\u002Dsite";
                    campusNameMap[8159] = "Putterham";
                    campusNameMap[8784] = "Virtual";
        
        var selectPickerCountSelectText = '{0} selected';
        var selectPickerHeaderText = {
            calendar:   'Filter\u0020by Calendar:',
            audience:   'Filter\u0020by Audience:',
            category:   'Filter\u0020by Category:',
            campus:     'Filter\u0020by Locations:',
            include: 'Include\u0020Events:',
        };

        var defaultIncludeEvents = 0;
        var includeEventsLabel = 'Include\u0020Events';

        var springyPage = {
            iid: 6442,
            baseCalendarId: 21139,
            isFullCalendarView: 0,
            showAllCalendars: -1,
            calendarStartDay: 0,
            iCalUrlBase: 'https\u003A\/\/brooklinelibrary.libcal.com\/ical_subscribe.php\u003Fsrc\u003Dp',
            fullyBooked: 2,
            waitlistOpen: 'Wait\u0020list',
            EXTERNAL_EVENT_COLOR: '',
            EXTERNAL_EVENT_PREFIX: 'f_',
            lang: {
                category: 'Category',
                campus: 'Locations',
                location: 'Location',
                presenter: 'Presenter',
                audiences: 'Audiences',
                categories: 'Categories',
                seats: 'Seats',
                shortDesc: 'Description',
                allDay: 'All\u0020Day',
                time: 'Time',
                registrationType: 'Registration\u0020Type',
                inPersonRegistration: 'In\u002DPerson\u0020Registration',
                onlineRegistration: 'Online\u0020Registration',
                fullyBooked: 'Fully\u0020Booked\u0021',
                waitlistOpen: 'Waitlist\u0020Open',
            },
        };

        function addCalendarCategories(categoryArray, calendarCategories) {
            for (var i = 0; i < calendarCategories.length; i++) {
                categoryArray.push(calendarCategories[i]);
            }
        }

        function getCategoriesForCalendarIds(calendarIds) {
            var categoryArray = [];

                        if (0 in categoriesMappedByCalendar) {
                addCalendarCategories(categoryArray, categoriesMappedByCalendar[0]);
            }

                        for (var i = 0; i < calendarIds.length; i++) {
                var calendarId = calendarIds[i];

                if (calendarId == -1) {
                                        addCalendarCategories(categoryArray, categoriesMappedByCalendar[21139]);
                                        addCalendarCategories(categoryArray, categoriesMappedByCalendar[20102]);
                                        break;
                }

                addCalendarCategories(categoryArray, categoriesMappedByCalendar[calendarId]);
            }

            return categoryArray;
        }

        function sortCategories(a, b) {
            const nameA = a.name.toUpperCase();
            const nameB = b.name.toUpperCase();

            if (nameA < nameB) {
                return -1;
            }

            if (nameA > nameB) {
                return 1;
            }

            return a.id - b.id;
        }

        function isFeedsWanted(calendarIds) {
            for (let i = 0; i < calendarIds.length; i++) {
                let calendarId = Number(calendarIds[i]);

                if (calendarId === springyPage.baseCalendarId) {
                    return true;
                }

                if (calendarId === springyPage.showAllCalendars) {
                    return true;
                }
            }

            return false;
        }

        function updateCategoryFilters(calendarIds, selectedValues) {
            let categoryArray = getCategoriesForCalendarIds(calendarIds);

            if (isFeedsWanted(calendarIds)) {
                categoryArray = categoryArray.concat(feedArray);
            }

            let sortedArray = categoryArray.sort(sortCategories);

            let element = jQuery('#cat-dd');
            element.empty();

            for (let i = 0; i < sortedArray.length; i++) {
                let categoryInfo = sortedArray[i];
                let categoryName = categoryInfo.name;
                let categoryColor = categoryInfo.color;
                let selected = selectedValues.indexOf(categoryName) >= 0;

                let value = categoryInfo.id;
                if (categoryInfo.isFeed === true) {
                    value = springyPage.EXTERNAL_EVENT_PREFIX + categoryInfo.id;
                }

                let option = new Option(categoryName, value, selected, selected);
                option.setAttribute('data-bgcolor', categoryColor);
                option.setAttribute('data-content', '<span class="label" style="background-color:' + categoryColor + '">&nbsp;</span> ' + categoryName + '</span>');
                element.append(option);
            }

            element.selectpicker('refresh');
        }

        function runFiltersDueToOptionChange(event, clickedIndex, newValue, oldValue) {
            activePage = 1;

            return runFilters();
        }

                var calendarFilterInProgress = false;

        function ensureValidCalendarSelection(element, clickedIndex) {
            if (clickedIndex == 0) {
                // if the show all option is selected - make it the only option selected
                element.selectpicker('deselectAll').val(-1).selectpicker("refresh");
            } else {
                // ensure the select all option is not selected if we pick a different option
                element.find("[value=-1]").prop("selected", false);
                element.selectpicker("refresh");
            }
        }

        function runCalendarSelectionValidation(event, clickedIndex, newValue, oldValue) {
            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);
        }

        function runFiltersDueToCalendarChange(event, clickedIndex, newValue, oldValue) {
            if (calendarFilterInProgress) {
                return false;
            }

            calendarFilterInProgress = true;

            var element = jQuery(this);
            ensureValidCalendarSelection(element, clickedIndex);

            calendarFilterInProgress = false;

            // if no options are selected - reset the select picker back to the original value
            var calendarIds = element.val();
            if (calendarIds.length == 0) {
                element.val(-1).selectpicker("refresh");
                calendarIds = [-1];
            }

            // toggle the categories display to only show those valid for these calendars
            updateCategoryFilters(calendarIds, jQuery("#cat-dd").val());

            activePage = 1;

            return runFilters();
        }

        function createDatePicker() {
                        var minViewMode = (activeView == "m") ? 1 : 0;

                        var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;

            var element = jQuery("#s-lc-filter-date");
            element.off('changeDate');
            element.datepicker("destroy");

            element.datepicker({
                language: "en",
                format: {
                    toDisplay: function (date, format, language) {
                        return moment.utc(date).locale("en").format(displayDateFormat);
                    },
                    toValue: function (date, format, language) {
                        return new Date(date);
                    }
                },
                minViewMode: minViewMode,
                weekStart: springyPage.calendarStartDay,
                autoclose: true,
                startDate: "2025\u002D08\u002D22",                todayHighlight: 0,
                defaultViewDate: {"year": 2025, "month": 7, "day": 22},
                templates: datePickerTemplates
            });

            if (haveChosenSpecificDate) {
                springyDatepicker.setDate(element, activeDate.toDate());
            }

            datePickerAccessibilityFix(element);

            element.on("changeDate", function () {
                haveChosenSpecificDate = true;
                activeDate = moment(jQuery(this).datepicker("getDate"));

                                if (activeDate.isBefore(activeDateMinimumValue)) {
                    activeDate = activeDateMinimumValue;
                }
                
                                                return false;
                            });
        }

        function setActiveViewMode(viewMode) {
            activeView = viewMode;
            activePage = 1;

            createDatePicker();

            return runFilters();
        }

        function setActiveViewModeToSearch() {
            var searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            activeSearch = true;
            activePage = 1;

            // keep people on their current view mode, with the exception of the monthly/weekly
            //  view modes as they do not yet support searches
            if ((activeView === 'm') || (activeView === 'w')) {
                activeView = 'd';
                createDatePicker();
            }
        }

        function getDateToPassToPhp() {
            if (!haveChosenSpecificDate) {
                return "0000-00-00";
            }

            if (activeView == "m") {
                return activeDate.format("YYYY-MM");
            }

            return activeDate.format("YYYY-MM-DD");
        }

        function getListOfNames(idNameMap, ids) {
            var names = [];

            for (var i=0; i < ids.length; i++) {
                var id = ids[i];
                var name = idNameMap[id];
                if (name === undefined) {
                    continue;
                }

                names.push(name);
            }

            return names.join(", ");
        }

        function gatherFilterOptionsInUse() {
            var categoryIds = jQuery("#cat-dd").val();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarIds = jQuery("#cal-dd").val();
            var search = jQuery("#s-lc-c-search").val();

            var filterOptions = [];

            if (search.length > 0) {
                filterOptions.push(["Keywords", escapeHtml(search)]);
            }

            if (haveChosenSpecificDate) {
                                var displayDateFormat = (activeView == "m") ? "MMMM YYYY" : springSpace.dateFormat;
                filterOptions.push(["Date", activeDate.locale("en").format(displayDateFormat)]);
            }

            if (calendarIds.length > 0) {
                filterOptions.push(["Calendar", getListOfNames(calendarNameMap, calendarIds)]);
            }

            if ((audienceIds !== undefined) && (audienceIds.length > 0)) {
                filterOptions.push(["Audience", getListOfNames(audienceNameMap, audienceIds)]);
            }

            if ((categoryIds !== undefined) && (categoryIds.length > 0)) {
                filterOptions.push(["Category", getListOfNames(categoryNameMap, categoryIds)]);
            }

            if ((campusIds !== undefined) && (campusIds.length > 0)) {
                filterOptions.push(["Locations", getListOfNames(campusNameMap, campusIds)]);
            }

            filterOptions.push([includeEventsLabel, jQuery('#include-events-dd option:selected').text()]);

            return filterOptions;
        }

        function showFiltersUsedOnScreen() {
            var filterOptions = gatherFilterOptionsInUse();
            var html = "Filters\u0020applied\u003A\u0020";

            for (var i=0; i < filterOptions.length; i++) {
                var filterOption = filterOptions[i];
                var name = filterOption[0];
                var value = filterOption[1];

                if (value.length === 0) {
                    continue;
                }

                html += "<strong>" + name + "</strong>: <em>" + value + "</em>";

                if (i < (filterOptions.length - 1)) {
                    html += ";&nbsp;&nbsp;&nbsp;";
                }
            }

            jQuery("#s-lc-c-filters-used").html(html).show();
        }

        function getCurrentQueryString() {
            var queryStringIndex = window.location.href.indexOf('?');

            if (queryStringIndex < 0) {
                return '';
            }

            return window.location.href.substr(queryStringIndex);
        }

        function runFilters() {
            jQuery(".s-lc-nav-tab").removeClass("active");
            calendarUtils.hideICalDetails();

            // determine if this is an event search
            let searchString = jQuery("#s-lc-c-search").val();
            if (searchString.length > 0) {
                if (!activeSearch) {
                    setActiveViewModeToSearch();
                }
            } else {
                activeSearch = false;
            }

            var newQueryString = determineQueryString();
            if (newQueryString !== getCurrentQueryString()) {
                                history.pushState(null, document.title, newQueryString);
            }

                        showFiltersUsedOnScreen();
            
            if (activeView == 'm') {
                jQuery('.s-lc-nav-monthly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(true);
                }

                return runMonthlyOrWeekly(true);
            }

            if (activeView === 'w') {
                jQuery('.s-lc-nav-weekly').addClass('active');
                if (springyPage.isFullCalendarView) {
                    return runFullCalendarMonthlyOrWeekly(false);
                }

                return runMonthlyOrWeekly(false);
            }

            if (activeView == "g") {
                jQuery(".s-lc-nav-card").addClass("active");
            } else {
                jQuery(".s-lc-nav-list").addClass("active");
            }

            if (activeSearch) {
                return runSearch();
            }

            if (activeView == "g") {
                return runCardView();
            }

            return runDaily();
        }

        function beginBusyWait() {
            workingAlert();

                        jQuery("#s-lc-c-sbtn, .s-lc-filters-clear").prop("disabled", true);
                    }

        function endBusyWait() {
            stopAlert();

                        jQuery("#s-lc-c-sbtn, .s-lc-filters-clear").prop("disabled", false);
                    }

        function formatResultsHeader(subTitle, header) {
                        return false;
        }

        function runMonthlyOrWeekly(isMonthly) {
            var cals = jQuery('#cal-dd').val();
            var cats = jQuery("#cat-dd").val();
            var camp = jQuery('#cam-dd').val();
            var audience = jQuery('#audience-dd').val();
            var includeEvents = jQuery('#include-events-dd').val();
            var date = activeDate.format(springSpace.phpDateFormat);

            var cal_cont = jQuery('#s-lc-c-list-cont');

            beginBusyWait();

            var headerSubTitle = calendarUtils.getDateHeading(activeDate, isMonthly, momentWeekFormat);

            jQuery.ajax({
                url: "/ajax/calendar/monthly?c=" + cals + '&date=' + date + '&monthly=' + isMonthly + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: 'html',
                                                cache: true,
                            })
            .always(endBusyWait)
            .done(function (html) {
                formatResultsHeader(headerSubTitle);
                cal_cont.html(html);

                                                                var screenWidth = jQuery(window).width();
                if (screenWidth > springSpace.smallScreenSize) {
                    jQuery('[data-toggle="popover"]').popover();
                }

                formatLabels();
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function runDaily() {
            var cals = jQuery("#cal-dd").val();
            var cats = jQuery("#cat-dd").val();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: 'json',
                                                cache: true,
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInListViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                jQuery('#s-lc-c-list-results h2').focus();
                paginate(data.total_results, data.perpage);
                formatLabels();
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function runCardView() {
            var cals = jQuery("#cal-dd").val();
            var cats = jQuery("#cat-dd").val();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];

            beginBusyWait();

            if (haveChosenSpecificDate) {
                var day = activeDate.locale("en").format("LL");
            } else {
                var day = "Upcoming\u0020Events";
            }

            jQuery.ajax({
                url: "/ajax/calendar/list?c=" + cals + "&date=" + getDateToPassToPhp() + "&perpage=" + perPage + "&page=" + activePage + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: 'json',
                                                cache: true,
                            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(day);
                var output = formatResultsInCardViewStyle(data);

                jQuery("#s-lc-c-list-cont").html(output);
                jQuery('#s-lc-c-list-results h2').focus();
                paginate(data.total_results, data.perpage);
                formatLabels();
                accessibleIcons();
                jQuery(".s-lc-eventcard-tag-more").on("click", doNothing);
                jQuery('.s-lc-eventcard-more-dates a').on('click', function() {
                    var eventId = jQuery(this).data('event');

                    return springyPublic.getFutureEventDates(eventId);
                });
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function doNothing() {
                        return false;
        }

        function runSearch() {
            var q = jQuery("#s-lc-c-search").val();
            if (q.length < 2) {
                errorAlert("Search\u0020string\u0020must\u0020be\u0020at\u0020least\u00202\u0020characters.");
                return false;
            }

            calendarUtils.hideICalDetails(true);
            beginBusyWait();

            var cals = jQuery("#cal-dd").val();
            var cats = jQuery("#cat-dd").val();
            var camp = jQuery("#cam-dd").val();
            var audience = jQuery("#audience-dd").val();
            var includeEvents = jQuery('#include-events-dd').val();
            var perPage = resultsPerPageViewMap[activeView];
            var t = q.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            jQuery.ajax({
                url: "/process_search.php?site_id=25634&cals=" + cals + "&perpage=" + perPage + "&page=" + activePage + "&q=" + encodeURIComponent(q) + "&audience=" + audience + "&cats=" + cats + "&camps=" + camp + '&inc=' + includeEvents,
                dataType: 'json',
            })
            .always(endBusyWait)
            .done(function(data) {
                formatResultsHeader(t, 'Search\u0020Results');

                if (activeView === "g") {
                    var output = formatResultsInCardViewStyle(data);
                } else {
                    var output = formatResultsInListViewStyle(data);
                }

                jQuery("#s-lc-c-list-cont").html(output);
                jQuery('#s-lc-c-list-results h2').focus();
                paginate(data.total_results, data.perpage);
                formatLabels();
                accessibleIcons();
                jQuery('.s-lc-eventcard-more-dates a').on('click', function() {
                    var eventId = jQuery(this).data('event');

                    return springyPublic.getFutureEventDates(eventId);
                });
            })
            .fail(ajaxErrorHandler);

            return false;
        }

        function formatResultsInListViewStyle(data) {
            if (data.error) {
                return "<p>" + eventData.error + "</p>";
            }

            var results = data.results.length;
            if (results < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = "";
            for (var i = 0; i < results; i++) {
                var eventData = data.results[i];
                addEventDataTextTranslations(eventData);
                output += Mustache.render(template, eventData);
            }
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function formatResultsInCardViewStyle(data) {
            if (data.error) {
                return "<p>" + data.error + "</p>";
            }

            var resultCount = data.results.length;
            if (resultCount < 1) {
                return "<div class=\"alert alert-info s-lc-c-s-nores\">No\u0020events\u0020are\u0020scheduled.</div>";
            }

            var output = '<div class="s-lc-eventcard-outer-container"><div class="s-lc-eventcard-inner-container">';
            for (var i = 0; i < resultCount; i++) {
                var eventData = data.results[i];
                decorateEventDataWithCategoryDisplayInfo(eventData);
                addEventDataTextTranslations(eventData);
                eventData.ribbonWarning = getRibbonWarning(eventData);
                eventData.campusAndLocation = getCampusAndLocationData(eventData);

                // if the event does not have a featured image then use the default card view image
                if (eventData.featured_image.length === 0) {
                    eventData.featured_image = cardViewDefaultImage;
                }

                output += Mustache.render(cardViewTemplate, eventData);
            }
            output += "</div></div>";
            output += "<div id=\"pag\"></div>";
            return output;
        }

        function paginate(totalResults, perPage) {
            var paginationElement = formatPaginationElement(activePage, perPage, totalResults);
            if (paginationElement === null) {
                return;
            }

            jQuery('#pag').append(paginationElement);

            jQuery('#pag li a').on('click', function () {
                activePage = jQuery(this).data('page');

                return runFilters();
            });
        }

        function decorateEventDataWithCategoryDisplayInfo(eventData) {
            var audienceCount = eventData.audiences.length;
            var categoryCount = eventData.categories_arr.length;

            var audiencesToShowInFull = 0;
            var categoriesToShowInFull = 1;

            if ((audienceCount > 0) && categoryCount > 0) {
                audiencesToShowInFull = 1;
                categoriesToShowInFull = 1;
            } else if (audienceCount > 0) {
                audiencesToShowInFull = Math.min(2, audienceCount);
            } else {
                categoriesToShowInFull = Math.min(2, categoryCount);
            }

            var toShowInFull = [];
            var toShowAsTooltip = [];

            for (var i=0; i < audienceCount; i++) {
                var audienceData = eventData.audiences[i];

                if (i < audiencesToShowInFull) {
                    toShowInFull.push({
                        isAudience: true,
                        id: audienceData.id,
                        name: audienceData.name,
                        color: audienceData.color,
                    });
                } else {
                    toShowAsTooltip.push(audienceData.name);
                }
            }

            for (var i=0; i < categoryCount; i++) {
                var categoryData = eventData.categories_arr[i];

                if (i < categoriesToShowInFull) {
                    toShowInFull.push({
                        isCategory: true,
                        id: categoryData.cat_id,
                        name: categoryData.name,
                        color: categoryData.color,
                    });
                } else {
                    toShowAsTooltip.push(categoryData.name);
                }
            }

            eventData.categoriesToShowInFull = toShowInFull;
            eventData.categoriesTooltip = toShowAsTooltip.join(", ");
        }

        function getCampusAndLocationData(eventData) {
                        var maxLocationsToShow = 2;
            var campusString = eventData.campus;
            var campusCount = campusString.length > 0 ? 1 : 0;
            var locationString = eventData.location;
            var locationCount = eventData.locationCount;

            if ((locationCount + campusCount) > maxLocationsToShow) {
                return "Multiple\u0020Locations";
            }

            var locations = [];
            if (campusCount > 0) {
                locations.push(campusString);
            }

            if (locationCount > 0) {
                locations.push(locationString);
            }

            return locations.join(", ");
        }

        function getRibbonWarning(eventData) {
            var registrationEnabled = eventData.registration_enabled;
            var registrationMessage = eventData.registration_msg;
            var registrationWaitlist = eventData.waitlist;

            if (registrationEnabled && (registrationWaitlist === springyPage.waitlistOpen)) {
                return springyPage.lang.waitlistOpen;
            }

            if (typeof registrationMessage === 'undefined') {
                return '';
            }

            var registrationStatus = registrationMessage.status;

            if (!registrationEnabled && (registrationStatus === springyPage.fullyBooked)) {
                return springyPage.lang.fullyBooked;
            }

            return '';
        }

        function setupAudienceLabel() {
            var audienceHtml = "";
            jQuery("#audience-dd :selected").each(function (i, selected) {
                var value = jQuery(selected).val();
                audienceHtml += '<a href="#" class="no-deco" onclick="removeAudience(\'' + value + '\');" aria-label="remove audience filter">';
                audienceHtml += '<span class="label" style="background-color:' + jQuery(selected).data("bgcolor") + '">';
                audienceHtml += jQuery(selected).text();
                audienceHtml += '&nbsp;<i class="fa fa-times fa-lg" style="color:#fff" aria-hidden="true"></i></span></a>&nbsp;';
            });

            if (audienceHtml != "") {
                audienceHtml = '<span class="s-lc-c-e-audience-lab">Audience:</span> ' + audienceHtml;
            }

            jQuery("#s-lc-c-e-audience").html(audienceHtml);
        }

        function formatLabels() {
                    }

        function removeFilter(id, value) {
            var element = jQuery(id);

            var list = element.val();
            var index = list.indexOf(value);
            if (index > -1) {
                list.splice(index, 1);
            }

            element.val(list);
            element.selectpicker("refresh");

            return runFilters();
        }

        function removeAudience(value) {
            return removeFilter("#audience-dd", value);
        }

        function removeCat(value) {
            return removeFilter("#cat-dd", value);
        }

        function removeCam(value) {
            return removeFilter("#cam-dd", value);
        }

        function determineQueryString() {
            var categoryIds = jQuery("#cat-dd").val();
            var campusIds = jQuery("#cam-dd").val();
            var audienceIds = jQuery("#audience-dd").val();
            var calendarId = jQuery("#cal-dd").find(":selected").data("cal_id");
            var calendarIds = jQuery("#cal-dd").val();
            var qs = "";

            if (activeSearch) {
                var q = encodeURIComponent(jQuery("#s-lc-c-search").val());
                var caqs = "";
                if (calendarId != null) {
                    caqs = "&cid=" + calendarId;
                }
                qs = "?t=" + activeView + "&q=" + q + caqs;
            } else {
                qs = "?cid=" + calendarId + "&t=" + activeView + "&d=" + getDateToPassToPhp();
            }

            if (calendarIds.length) {
                qs = qs + "&cal=" + calendarIds;
            }

            if ((audienceIds !== undefined) && (audienceIds.length)) {
                qs = qs + "&audience=" + audienceIds;
            }

            if ((categoryIds !== undefined) && (categoryIds.length)) {
                qs = qs + "&ct=" + categoryIds;
            }

            if ((campusIds !== undefined) && (campusIds.length)) {
                qs = qs + "&cm=" + campusIds;
            }

                                    if (activePage > 1) {
                qs = qs + "&page=" + activePage;
            }

            var includeEvents = jQuery('#include-events-dd').val();
            if (includeEvents !== undefined) {
                qs += '&inc=' + includeEvents;
            }

            return qs;
        }

        function listenForFilterChanges() {
                        jQuery("#cal-dd").on("changed.bs.select", runCalendarSelectionValidation);
                    }

        function stopListeningForFilterChanges() {
            jQuery("#audience-dd, #cat-dd, #cam-dd, #include-events-dd, #cal-dd").off("changed.bs.select");
        }

        function clearFilters() {
            stopListeningForFilterChanges();

            jQuery("#cal-dd").selectpicker("deselectAll").val(-1).selectpicker("refresh");
            jQuery("#cam-dd, #audience-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery("#cat-dd").selectpicker("deselectAll").selectpicker("refresh");
            jQuery('#include-events-dd').val(defaultIncludeEvents).selectpicker('refresh');

            activeSearch = false;
            jQuery("#s-lc-c-search").val("");

            activeDate = moment("2025\u002D08\u002D22", springSpace.phpDateFormat);
            haveChosenSpecificDate = false;
            jQuery("#s-lc-filter-date").val("");
            createDatePicker();

            listenForFilterChanges();

            jQuery(".s-lc-nav-tab").removeClass("active");
            activePage = 1;

            return runFilters();
        }

        jQuery(function () {
            jQuery("#cal-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.calendar,
                style: "btn-default btn-sm"
            });

            jQuery("#audience-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.audience,
                style: "btn-default btn-sm"
            });

            jQuery("#cat-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.category,
                style: "btn-default btn-sm"
            });

            jQuery("#cam-dd").selectpicker({
                countSelectedText: selectPickerCountSelectText,
                header: selectPickerHeaderText.campus,
                style: "btn-default btn-sm"
            });

            jQuery('#include-events-dd').selectpicker({
                header: selectPickerHeaderText.include,
                style: 'btn-default btn-sm'
            });

            jQuery(".s-lc-nav-list").on("click", function (e) {
                return setActiveViewMode("d");
            });

            jQuery(".s-lc-nav-monthly").on("click", function (e) {
                return setActiveViewMode("m");
            });

            jQuery('.s-lc-nav-weekly').on('click', function () {
                return setActiveViewMode('w');
            });

            jQuery(".s-lc-nav-card").on("click", function (e) {
                return setActiveViewMode("g");
            });

            jQuery('.s-lc-filters-clear').on('click', clearFilters);
            jQuery('#cal-form').on('submit', runFilters);

            jQuery('.s-lc-c-timezone-change').off('click').on('click', springyPublic.showTimezoneModal);

            updateCategoryFilters(
                [-1,],
                []
            );

            var cals = jQuery("#cal-dd").val();
            if (cals == null) {
            } else {
                jQuery("#s-lc-c-catf .bootstrap-select").prop("title", "");
            }

            jQuery('#s-lc-c-ical-toggle').on('click', calendarUtils.showICalDetails);

            jQuery('.selectpicker').prop('tabindex', 0);

            // for "show more dates" hover text
            jQuery('.popover-dismiss').popover({
                trigger: 'focus'
            })

            listenForFilterChanges();

            accessibleIcons();

                        activeView = "d";
            activeSearch = false;
            createDatePicker();
            runFilters();

            // reload the page with previous query string when user click on Back
            window.addEventListener('popstate', function() {
                location.reload();
            });
        });
    </script>
    

</body>
</html>
